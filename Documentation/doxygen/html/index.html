<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The NEW Pong Game: Projet Pong Multijoueur C++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">The NEW Pong Game<span id="projectnumber">&#160;V11.0.2</span>
   </div>
   <div id="projectbrief">An interesting implemnettaion of the pong game</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Projet Pong Multijoueur C++ </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a></p>
<h5>Auters: Dounia Bakalem, Yanis Sadoun, Vasileios Filippos Skarleas</h5>
<h1><a class="anchor" id="autotoc_md1"></a>
Versions</h1>
<ul>
<li>V4.2.2 <a class="el" href="class_saving.html" title="Utility class for managing save game and high score functionality.">Saving</a> the demi correct viwes</li>
<li>V4.2.3 The views logic has been completed</li>
<li>V5.0.1: <b>Added lamda functions</b> on the <a class="el" href="paddle_8cpp.html" title="Implementation of the Paddle class for the game.">paddle.cpp</a>. The reason why we do this is found on the <a class="el" href="paddle_8cpp.html" title="Implementation of the Paddle class for the game.">paddle.cpp</a> file and added mutliple notixes support</li>
<li>V5.1.1: F**unctors added for the differet ball shaped renders on the <a class="el" href="renderers_8cpp.html" title="Implementation of rendering functions for various game shapes.">renderers.cpp</a> file** (it includes also the explication why we use functors [purposes])</li>
<li>V5.1.2: Added getter and setter for the notices (it will be needed on the game's main logic to showcase the correct notices) + on Makefile added the mode_menu implementation</li>
<li>V5.1.3: Prepared notices so that we can return back to the mode menu</li>
<li>V5.1.4: Added logic for showng the paude button or not on the game</li>
<li>V6.0.1: We added the change views functionality succefully</li>
<li>V6.1.0: Added updates pages structures and logic for correct <a class="el" href="class_a_i.html" title="Artificial Intelligence for controlling a paddle.">AI</a> and balls selection to their respective modes</li>
<li>V6.1.1: Changes GameState to game_sate for normalisation reasons</li>
<li>V6.1.2: Renamed files according to teh pages structure below for clarity reasons. The classes on those files has not been updated yet</li>
<li>V6.1.3: Updates class names according to the pages structures below and <a class="el" href="class_a_i.html" title="Artificial Intelligence for controlling a paddle.">AI</a> logic has been implemented. Needs to be added on the game's global logic</li>
<li>V7.0.1: Added the <a class="el" href="class_a_i.html" title="Artificial Intelligence for controlling a paddle.">AI</a> on the global game's logic</li>
<li>V7.1.2: Added game over page and Cmake structure. Changed some function names on the <a class="el" href="game_8cpp.html">game.cpp</a> and we added an automatic installer and handler of packages.</li>
<li>V8.1.0: Added user class, started network codebase, added special effects support for game's actions and buttons click actions, updated saving state to include players names and updated the game's logic to support the definition of the player's names.</li>
<li>V8.1.1: Added support for showing player's names when we play</li>
<li>V9.0.1: Added high score functionality on two players mode. The game now ends when the users ask for it, so this is what makes a high score. Also added support to add user names on SDL interface</li>
<li>V9.1.0: Updated the <a class="el" href="gui_8cpp.html" title="Implementation of the GUI class for game interface.">gui.cpp</a> for better results and cohesion</li>
<li>V9.2.0: Storymode added. We need to update the instrcutions</li>
<li>V9.2.1: Removed setup.cpp and setup.hpp dependecnies</li>
<li>V9.2.2: Reoved final depednicies of setup.cpp</li>
<li>V10.8.23 : Implemented fun mode with rackets size changing and ball invisibility. Macros were extedned, updated games logic to respond to the new criteria and fixed some bugs on the source code (+ 8 .5 hours for it to work after the modifications of Dounia and Yanis)</li>
<li>V10.8.24: Old makefile removed abd gitigonre updated. You will ave to perfom the cmake to compile. You can use directly the play.sh script</li>
<li>V10.9.1: play.sh installer was updated</li>
<li>V11.0.1: Added documentation structure. Fixed sime issues on the fun mode. We need to reset the padle height at the end of the fun mode manually if the button end game is atpped otherwise we risk to have different size paddles on other game modes</li>
<li>V11.0.2: Added more comments and incuded inverse mode there is a segmentation fault issue</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Pages structures</h1>
<p>This game comes with some specific predefined page structures that we use in order to render different content dynamicly or not (depending the extensive usage on the program). Here are the specifications for those files:</p>
<ul>
<li><a class="el" href="classpage__3b__1t.html" title="Middle menu class with 3 buttons and 1 title.">page_3b_1t</a> : There are three buttons on the center and one title in bold on top (previous middle_menu)</li>
<li><a class="el" href="classpage__2b__1t.html" title="Notice screen with 2 buttons and 1 title.">page_2b_1t</a> : There are two buttons and one grand part for long text (previous notices)</li>
<li><a class="el" href="classpage__4b__1t.html" title="Defines the mode selection menu with 4 buttons and 1 title.">page_4b_1t</a>: There four buttons and 1 title in bold (previous mode_menu)</li>
<li><a class="el" href="classpage__3b__0t.html" title="Main menu class with 3 buttons and no title.">page_3b_0t</a>: There are three buttons, the two on top of the page and the third one close to the end (previous menu)</li>
<li><a class="el" href="classpage__3b.html" title="Pause menu with 3 buttons.">page_3b</a> : There are 3 buttons, all of them centered in the middle of the screen (previous pause menu)</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
TO-DO list</h1>
<ul>
<li>[X] Find a way to prpose an initial SDL window that show cases the instructionsof the game. Then when teh user taps on a button "Let's go", then this SDL windows closes and a new one Appears where a user chooses between the modes of the game that exist. The "Simple" one which is the current version of the game, the "Storytime" one where is the game without the saving functionality, but with the user class and the hisgh score board, and the third one which is "Hardcore" which is the same with the "Storytime" but now there is a single user that plays against an <a class="el" href="class_a_i.html" title="Artificial Intelligence for controlling a paddle.">AI</a> on the opposite <a class="el" href="class_paddle.html" title="Represents a player paddle/racket in the game.">Paddle</a>. There is also the exit game button that terminates the game. When a mode is slected this SDL window closes and we are presented with the menu window of the different game modes. (definitely there are modification son the <a class="el" href="main_8cpp.html" title="Main entry point for the Pong game.">main.cpp</a> for this functionaity to take place)</li>
<li>[X] Add a message when the game is saved succesfully</li>
<li>[X] Create a user class and use this to attribute the scores</li>
<li>[X] Remove the end of game logic when score is greater than 10 for a user. Instead use the logic of the two previous points (not actually remove, but instead develop the new game mode like game_storytime.cpp). This new mode comes with its new menu_storytime.cpp that doesn't include the continue game functionality (as expected) but there is button that allows to see the high scores table (it opens on a new SDL window). The exit game button is transfored to exit mode button allowing to go back to the SDL window where we can choose the game mode.</li>
<li>[X] Have a high scores table where if any time in the future a user has a score greater than the last maximum one, then he is added on top of the Leaderboard. The leaderboard is a file that is always present on the directory of the game and it is also encrypted.</li>
<li>[X] Add the <a class="el" href="class_a_i.html" title="Artificial Intelligence for controlling a paddle.">AI</a> player</li>
<li>[ ] Why there is a Float set_up method on the <a class="el" href="paddle_8hpp.html" title="Header defining the Paddle class for the game.">paddle.hpp</a> ? Ask Yanis and Dounia</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Usage of the CMake</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
First time setup</h2>
<p>mkdir build cd build cmake .. cmake &ndash;build .</p>
<h2><a class="anchor" id="autotoc_md6"></a>
For subsequent code changes, just run</h2>
<p>cmake &ndash;build .</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Guide de Démarrage</h1>
<h2><a class="anchor" id="autotoc_md8"></a>
Prérequis</h2>
<div class="fragment"><div class="line"># macOS avec Homebrew</div>
<div class="line">brew install sdl2 sdl2_mixer sdl2_ttf sdl2_image</div>
<div class="line"> </div>
<div class="line"># Ubuntu/Debian</div>
<div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get install libsdl2-dev libsdl2-mixer-dev libsdl2-ttf-dev libsdl2-image-dev</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md9"></a>
Compilation</h1>
<p>Pour compiler le codebase du jeu, vous pouvez tout simplement sur le repertoire build une fois que vous avez installé les Prérequis. Il faut suivre les instructions suivantes:</p>
<ol type="1">
<li><code>cd build</code></li>
<li><code>cmake ..</code></li>
<li><code>cmake --build .</code></li>
</ol>
<p>Donc, pour lancer le jeu il suffit de faire <code>./Pong</code></p>
<p>For your convinience, we are including on the codebase a launch file that will automaticly process everything for you. You simply need to do make sure that this file has the right to execute on your computer. This installer will make sure that you have all the dependencies installed and it will prepare all the executables for you.</p>
<ol type="1">
<li><code>chmod 777 play.sh</code></li>
<li><code>bash play.sh</code></li>
</ol>
<h1><a class="anchor" id="autotoc_md10"></a>
Dépendances et Structure</h1>
<h2><a class="anchor" id="autotoc_md11"></a>
Structure des Includes</h2>
<div class="fragment"><div class="line">game.cpp</div>
<div class="line">├── game.hpp</div>
<div class="line">├── ClassicBall.hpp</div>
<div class="line">├── SquareBall.hpp</div>
<div class="line">├── TriangleBall.hpp</div>
<div class="line">├── GameStateHandler.hpp</div>
<div class="line">└── SDL headers (SDL.h, SDL_mixer.h, SDL_ttf.h)</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">ball_base.cpp (classes dérivées)</div>
<div class="line">├── BallBase.hpp</div>
<div class="line">├── paddle.hpp</div>
<div class="line">└── SDL headers</div>
<div class="line"> </div>
<div class="line">paddle.cpp</div>
<div class="line">├── paddle.hpp</div>
<div class="line">└── SDL headers</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md12"></a>
Sécurité et Sauvegarde de l'état du jeu</h1>
<h2><a class="anchor" id="autotoc_md13"></a>
Chiffrement des Données</h2>
<p>La sauvegarde des données utilise un système de chiffrement XOR simple avec une clé rotative :</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>SavingEncryption {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;uint8_t&gt; KEY;</div>
<div class="line">  </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> encryptData(std::vector&lt;uint8_t&gt;&amp; data) {</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; data.size(); ++i) {</div>
<div class="line">            data[i] ^= KEY[i % KEY.size()];</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><p>Les données sont chiffrées avant l'écriture sur le disque et déchiffrées lors de la lecture, assurant une protection basique des sauvegardes.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Système Audio et Graphique</h1>
<h2><a class="anchor" id="autotoc_md15"></a>
Gestion Audio avec SDL_mixer</h2>
<p>Le jeu utilise SDL_mixer pour gérer différents effets sonores :</p>
<ul>
<li>Collision balle-raquette</li>
<li>Points marqués</li>
<li>Musique de fond</li>
</ul>
<div class="fragment"><div class="line">Mix_Chunk* racket_hit_sound;</div>
<div class="line">Mix_Music* mBackgroundMusic;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md16"></a>
Système de Couleurs Dynamique</h2>
<p>Les couleurs évoluent en fonction du score :</p>
<ul>
<li>Score &gt; 3 : Bleu (Début de progression)</li>
<li>Score &gt; 5 : Rouge (Progression intermédiaire)</li>
<li>Score &gt; 7 : Vert (Proche de la victoire)</li>
<li>Score Max : 10 points</li>
</ul>
<h1><a class="anchor" id="autotoc_md17"></a>
Modes de Jeu</h1>
<ol type="1">
<li>Mode Classique</li>
</ol>
<p>Score maximum : 10 points Changements de couleur aux scores 3, 5 et 7 Sauvegarde automatique Mode Sans Limite (à venir)</p>
<ol type="1">
<li>Pas de score maximum Table des meilleurs scores Sauvegarde des records Mode IA (à venir)</li>
<li>Intelligence artificielle pour joueur 2 Plusieurs niveaux de difficulté</li>
</ol>
<h1><a class="anchor" id="autotoc_md18"></a>
Améliorations Futures</h1>
<h2><a class="anchor" id="autotoc_md19"></a>
Instructions du Jeu</h2>
<p>Implémentation prévue d'un écran d'instructions au démarrage :</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>GameInstructions {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> Display();</div>
<div class="line">    <span class="keywordtype">bool</span> HandleInput();</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::vector&lt;std::string&gt; mInstructions;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md20"></a>
Système de Noms d'Utilisateur</h2>
<p>Ajout d'une interface de saisie des noms :</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>PlayerManager {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> RequestUsernames();</div>
<div class="line">    std::string GetPlayer1Name();</div>
<div class="line">    std::string GetPlayer2Name();</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::string mPlayer1Name;</div>
<div class="line">    std::string mPlayer2Name;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21"></a>
Mode High Score</h2>
<p>Nouveau mode de jeu sans limite de points :</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>HighScoreManager {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> AddScore(<span class="keyword">const</span> std::string&amp; player, <span class="keywordtype">int</span> score);</div>
<div class="line">    std::vector&lt;std::pair&lt;std::string, int&gt;&gt; GetTopScores(<span class="keywordtype">int</span> limit = 10);</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::vector&lt;std::pair&lt;std::string, int&gt;&gt; mHighScores;</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md22"></a>
L'algorithme de l'IA</h1>
<p>L'algorithme de l'IA pour le joueur 2 utilisera une approche prédictive :</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>AIPlayer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">float</span> DecideMovement(<span class="keyword">const</span> Ball* ball, <span class="keyword">const</span> <a class="code hl_class" href="class_paddle.html">Paddle</a>* paddle) {</div>
<div class="line">        <span class="comment">// Prédiction de la position future de la balle</span></div>
<div class="line">        <span class="keywordtype">float</span> predictedY = Predictball_y(ball);</div>
<div class="line">        <span class="keywordtype">float</span> currentY = paddle-&gt;<a class="code hl_function" href="class_paddle.html#a17a8548d4833c7ed1294a80686d006ab">get_pos_y</a>();</div>
<div class="line">  </div>
<div class="line">        <span class="comment">// Décision de mouvement avec une marge d&#39;erreur pour simulation humaine</span></div>
<div class="line">        <span class="keywordflow">return</span> (predictedY &gt; currentY + ERROR_MARGIN) ? 1.0f : </div>
<div class="line">               (predictedY &lt; currentY - ERROR_MARGIN) ? -1.0f : 0.0f;</div>
<div class="line">    }</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">float</span> ERROR_MARGIN = 10.0f;</div>
<div class="line">    <span class="keywordtype">float</span> Predictball_y(<span class="keyword">const</span> Ball* ball);</div>
<div class="line">};</div>
<div class="ttc" id="aclass_paddle_html"><div class="ttname"><a href="class_paddle.html">Paddle</a></div><div class="ttdoc">Represents a player paddle/racket in the game.</div><div class="ttdef"><b>Definition</b> paddle.hpp:20</div></div>
<div class="ttc" id="aclass_paddle_html_a17a8548d4833c7ed1294a80686d006ab"><div class="ttname"><a href="class_paddle.html#a17a8548d4833c7ed1294a80686d006ab">Paddle::get_pos_y</a></div><div class="ttdeci">float get_pos_y() const</div><div class="ttdoc">Gets the paddle's y-coordinate.</div><div class="ttdef"><b>Definition</b> paddle.hpp:63</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23"></a>
L'utilisation des Lambda Functions</h1>
<p>Les lambda functions sont utilisées pour plusieurs raisons :</p>
<ul>
<li>Callbacks d'événements menu</li>
<li>Validation des entrées</li>
<li>Menu callbacks</li>
</ul>
<p>Voici queques implementations pour ceux cas spécifiques:</p>
<ol type="1">
<li>Gestionnaire d'Événements auto handleCollision = [this](const Ball* ball, const Paddle* paddle) -&gt; bool { return collision_check(ball-&gt;GetBounds(), paddle-&gt;GetBounds()); };</li>
<li>Validation des Entrées auto validateScore = [](int score) -&gt; bool { return score &gt;= 0 &amp;&amp; score &lt;= 10; };</li>
<li>Callbacks du Menu mMenu-&gt;SetStartCallback(this { mGameState = <a class="el" href="game_8hpp.html#ad0ed1832dd134806ad335cdcc1a59ad2ac9dbb2b7c84159b632d71e512eba8428">game_state::Playing</a>; resetGame(); });</li>
</ol>
<p>Les lambda functions permettent une syntaxe plus claire pour les callbacks et une maintenance simplifiée. En plus, l'utilisation des lambda functions est particulièrement pertinente pour le mode IA où elles permettent de définir différentes stratégies de jeu de manière concise et modulaire. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->

<hr class="footer" />
<address class="footer">
    <medium>The code and any documentation on this repository is protected under a usage license.</medium>
    <br>
    <br>
    <small>
        Copyright (c) 2024 -
        <script>document.write(/\d{4}/.exec(Date())[0])</script> The NEW Pong Game | All rights reserved
    </small>
    <br>
    <small>Vasileios Filippos Skarleas, Dounia Bakalem, Yanis Sadoun</small>
</address>
</body>
</html>
